\documentclass[letterpaper, 11pt]{uiowa-thesis}
\usepackage[margin=1in]{geometry}
\usepackage{fontspec}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{lipsum}
\usepackage{mathpartir}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{changepage}
\usepackage{xcolor}
\usepackage{tocloft}
\usepackage{latexsym}
\usepackage{stmaryrd}
\usepackage{tikz-cd}
%\usepackage{unicode-math}
\usepackage{newunicodechar}
\usepackage[cache=false]{minted}
\usetikzlibrary{nfold}

\setminted{fontsize=\footnotesize}
\setmonofont{Fira Code}

\newfontfamily{\dejavusansfont}{DejaVu Sans}
\newunicodechar{★}{{\dejavusansfont\char"2605}}
\newunicodechar{➔}{{\dejavusansfont\char"2794}}
\newunicodechar{➾}{{\dejavusansfont\char"27BE}}
%\newunicodechar{➔}{$\to$}

\newenvironment{proofcase}{\vspace{0.3cm}\begin{adjustwidth}{2cm}{}}{\end{adjustwidth}\vspace{0.4cm}}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{conjecture}[theorem]{Conjecture}

\newcommand{\outline}[1]{{\color{blue} #1}}
% \renewcommand{\outline}[1]{}
\input{figures/macros.tex}

\addbibresource{biblio.bib}
\nocite{*}

\title{Cedille2: A proof theoretic redesign of the Calculus of Dependent Lambda Eliminations}
\author{Andrew Marmaduke}
\date{May 2024}

\usepackage{hyperref}
\hypersetup{
  colorlinks,
  linkcolor=[rgb]{0.62,0.22,0.24},
  urlcolor=[rgb]{0.16,0.20,0.36},
  citecolor=[rgb]{0.95,0.65,0.07},
  pdftitle={\thetitle},
  pdfauthor={\theauthor}
}
\degree{Doctor of Philosophy}
\concentration{Computer Science}

\ThesisSupervisor{Aaron Stump}
\CommitteeMember{Cesare Tinelli}
\CommitteeMember{J. Garrett Morris}
\CommitteeMember{Sriram Pemmaraju}
\CommitteeMember{William J. Bowman}

\begin{document}
%\emergencystretch 3em

Obviously bad because of omega right in the type
\begin{minted}{Lean}
bad : { (λ x. x x) (λ x. x x) ≃ λ x. x } = β.
\end{minted}

Bad because kleene trick is untyped
\begin{minted}{Lean}
Id : Π A:★. A ➔ A ➔ ★ = λ A:★. λ x:A. λ y:A. {x ≃ y}.
Unit : ★ = ∀ X:★. X ➔ X.
unit : Unit = Λ X. λ x. x.
refl : Id·Unit unit unit = β.
omega : Id·Unit unit unit = β{(λ x. x x) (λ x. x x)}.
bad : Id·(Id·Unit unit unit) omega refl = β.
\end{minted}

Untyped rewrites
\begin{minted}{Lean}
Id : Π A:★. Π B:★. A ➔ B ➔ ★ = λ A:★. λ B:★. λ x:A. λ y:B. {x ≃ y}.
Unit : ★ = ∀ X:★. X ➔ X.
unit : Unit = Λ X. λ x. x.
self : Unit ➔ Unit = λ u. u u.
False : ★ = ∀ X:★. X.
bad : ∀ P:False ➔ ★. Π f:False. P f
= Λ P. λ f. {e1 = f·(Id·False·(Unit ➔ Unit) f self)}
  - {e2 = f·(Id·False·False f (f·(False ➔ False) f))}
  - ρ e2 - ρ e1 - (f·(P f)).
\end{minted}

Erased rho with \textit{some} method of talking about equality of True and False
\begin{minted}{Lean}
False : ★ = ∀ X:★. X.
Not : ★ ➔ ★ = λ A:★. A ➔ False.
True : ★ = Not·False.
self : True = λ f. f·(False ➔ False) f.
Bool : ★ = ∀ X:★. X ➔ X ➔ X.
tt : Bool = Λ X. λ x. λ y. x.
ff : Bool = Λ X. λ x. λ y. y.
Id : Π A:★. A ➔ A ➔ ★ = λ A:★. λ a:A. λ b:A. {b ≃ a}.
subst : ∀ A:★. ∀ a:A. ∀ b:A. ∀ P:A ➔ ★. P a ➔ Id·A a b ➾ P b
= Λ A. Λ a. Λ b. Λ P. λ p. Λ i. ρ i - p.

elim : ★ ➔ ★ ➔ Bool ➔ ★
= λ A:★. λ B:★. λ x:Bool. ι _:{x ≃ tt} ➾ A. {x ≃ ff} ➾ B.
in1 : ∀ A:★. ∀ B:★. A ➔ elim·A·B tt
= Λ A. Λ B. λ a. [Λ e. a, Λ e. {f:False = δ - e} - φ (f·{f ≃ a}) - (f·B) {a}].

cast : ∀ A:★. ∀ B:★. ∀ a:Bool. ∀ b:Bool. Id·Bool a b ➾ elim·A·B a ➔ elim·A·B b
= Λ A. Λ B. Λ a. Λ b. Λ e. λ p. subst·Bool -a -b ·(elim·A·B) p -e.
omega : Not·(∀ a:Bool. ∀ b:Bool. Id·Bool a b)
= λ x. (cast·True·False -tt -ff -(x -tt -ff) (in1 self)).2 -β.
Omega : Not·(∀ a:Bool. ∀ b:Bool. Id·Bool a b)
= λ x. self (omega x).
bad : {Omega ≃ λ x. x} = β.
\end{minted}

By using phi.,

\begin{minted}{Lean}
False : ★ = ∀ X:★. X.
Unit : ★ = ∀ X:★. X ➔ X.
self : Unit ➔ Unit = λ u. u u.
b : False ➔ ι _:Unit ➔ Unit. Unit = λ f. [f·(Unit ➔ Unit), f·Unit].
e : Π f:False. {b f ≃ self} = λ f. f·{b f ≃ self}.
omega : False ➾ Unit = Λ f. self (φ (e f) - (b f).2 {self}).
bad : {omega ≃ λ x. x} = β.
\end{minted}

\titlepage

\copyrightPage

\frontmatter

%\iowaEpigraph{\lipsum[1]}{Some wise dude}

\input{acknowledgments.tex}

\input{abstract.tex}

\input{publicAbstract.tex}

\tableofcontents

\setlength{\cftparskip}{\baselineskip}
\listoffigures
%\listoftables

%\input{chapters/preface.tex}

\mainmatter

\input{chapters/01.tex}
\input{chapters/02.tex}
\input{chapters/03.tex}
\input{chapters/04.tex}
\input{chapters/05.tex}
\input{chapters/06.tex}
\input{chapters/07.tex}
\input{chapters/08.tex}

%\appendix
%\input{appendices/a.tex}
%\input{appendices/b.tex}
%\input{appendices/c.tex}

\backmatter

\printbibliography

\end{document}
